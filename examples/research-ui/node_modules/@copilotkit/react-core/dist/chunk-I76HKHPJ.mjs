// src/hooks/use-agent-nodename.ts
import { useEffect, useRef } from "react";
import { useAgent } from "@copilotkitnext/react";
function useAgentNodeName(agentName) {
  const { agent } = useAgent({ agentId: agentName });
  const nodeNameRef = useRef("start");
  useEffect(() => {
    if (!agent)
      return;
    const subscriber = {
      onStepStartedEvent: ({ event }) => {
        nodeNameRef.current = event.stepName;
      },
      onRunStartedEvent: () => {
        nodeNameRef.current = "start";
      },
      onRunFinishedEvent: () => {
        nodeNameRef.current = "end";
      }
    };
    const subscription = agent.subscribe(subscriber);
    return () => {
      subscription.unsubscribe();
    };
  }, [agent]);
  return nodeNameRef.current;
}

export {
  useAgentNodeName
};
//# sourceMappingURL=chunk-I76HKHPJ.mjs.map