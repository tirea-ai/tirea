{"version":3,"sources":["../../../../src/components/chat/messages/UserMessage.tsx"],"sourcesContent":["import { UserMessageProps } from \"../props\";\n\ntype UserMessageContent = NonNullable<UserMessageProps[\"message\"]>[\"content\"];\n\nconst getTextContent = (content: UserMessageContent | undefined): string | undefined => {\n  if (typeof content === \"undefined\") {\n    return undefined;\n  }\n\n  if (typeof content === \"string\") {\n    return content;\n  }\n\n  return (\n    content\n      .map((part) => {\n        if (part.type === \"text\") {\n          return part.text;\n        }\n        return undefined;\n      })\n      .filter((value): value is string => typeof value === \"string\" && value.length > 0)\n      .join(\" \")\n      .trim() || undefined\n  );\n};\n\nexport const UserMessage = (props: UserMessageProps) => {\n  const { message, ImageRenderer } = props;\n  const isImageMessage = message && \"image\" in message && Boolean(message.image);\n\n  if (isImageMessage) {\n    const imageMessage = message!;\n    const content = getTextContent(imageMessage?.content);\n\n    return (\n      <div className=\"copilotKitMessage copilotKitUserMessage\">\n        <ImageRenderer image={imageMessage.image!} content={content} />\n      </div>\n    );\n  }\n\n  const content = getTextContent(message?.content);\n\n  return <div className=\"copilotKitMessage copilotKitUserMessage\">{content}</div>;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAqCQ;AAjCR,IAAM,iBAAiB,CAAC,YAAgE;AACtF,MAAI,OAAO,YAAY,aAAa;AAClC,WAAO;AAAA,EACT;AAEA,MAAI,OAAO,YAAY,UAAU;AAC/B,WAAO;AAAA,EACT;AAEA,SACE,QACG,IAAI,CAAC,SAAS;AACb,QAAI,KAAK,SAAS,QAAQ;AACxB,aAAO,KAAK;AAAA,IACd;AACA,WAAO;AAAA,EACT,CAAC,EACA,OAAO,CAAC,UAA2B,OAAO,UAAU,YAAY,MAAM,SAAS,CAAC,EAChF,KAAK,GAAG,EACR,KAAK,KAAK;AAEjB;AAEO,IAAM,cAAc,CAAC,UAA4B;AACtD,QAAM,EAAE,SAAS,cAAc,IAAI;AACnC,QAAM,iBAAiB,WAAW,WAAW,WAAW,QAAQ,QAAQ,KAAK;AAE7E,MAAI,gBAAgB;AAClB,UAAM,eAAe;AACrB,UAAMA,WAAU,eAAe,6CAAc,OAAO;AAEpD,WACE,4CAAC,SAAI,WAAU,2CACb,sDAAC,iBAAc,OAAO,aAAa,OAAQ,SAASA,UAAS,GAC/D;AAAA,EAEJ;AAEA,QAAM,UAAU,eAAe,mCAAS,OAAO;AAE/C,SAAO,4CAAC,SAAI,WAAU,2CAA2C,mBAAQ;AAC3E;","names":["content"]}